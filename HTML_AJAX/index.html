<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Employees AJAX</title>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
var sessionIP = "64.72.1.162";
// https://www.geeksforgeeks.org/how-to-submit-a-form-using-ajax-in-jquery/
$(document).ready(function(){                   // website is loaded
    console.log("GETTING EMPLOYEES");
    $.ajax({
                method: "GET",
                url: 'http://' + sessionIP + '/rest/employees',
                data: "json",
                cache: false,
                success: function(data) {  
                    // Ajax call completed successfully

                    console.log(data);
                    console.log("GOT EM");
                    console.log("BUILDING TABLE");
                    $.each(data, function(key, value){
                        $('#employeeTable').append(
                            '<tr>' 
                            + '<td>' + value.fname + ' ' + value.minit + ' ' + value.lname + '</td>'
                            + '<td>' + '<button onclick="editClick(\''+ value.emp_id +'\')"> Edit </button>'
							+ '<button onclick="deleteClick(\''+ value.emp_id +'\')"> Delete </button>' + '</td>'
                            + '</tr>'
                        );
                    });
                    console.log("DONE");
                },
                error: function(data) {
                      
                    // Some error in ajax call
                    console.log("UH OH");
                    alert(data);
                }
    });
    console.log("ENJOY");
});

function addClick()
{
    var $url = `employeePage.html`;

    window.location = $url;
}

function editClick(employeeData)
{
    var $url = `employeePage.html?eid=${employeeData}`;

    window.location = $url;
}

function deleteClick(employeeData)
{

}
</script>

<!--
    <style>
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
      margin-top: 25px;
    }

    td {
        border: 2px solid #1b1835;
    }
    
    th {
        border: 2px solid #1b1835;
        color: #ffffff;
         background-color: #2052db;
         text-align: left;
         padding: 4px;
    }
    
    tr:nth-child(odd) {
      background-color: #e6eaff;
    }

    tr:nth-child(even) {
      background-color: #cad8ff;
    }
    
    </style>
-->

</head>
<body>
    <div>
        <td> 
            <button onclick="addClick()"> Add Employee </button>
        </td>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody id="employeeTable">
                <!-- stuff goes here-->
            </tbody>
        </table>
    </div>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>th>Options</th>
                </tr>
            </thead>
            <tbody id="employeeTable">
                <!-- stuff goes here-->
            </tbody>
        </table>
    </div>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>l> <div id="result">
    </div>
</body>
</html>
</body>
</html>">
    </div>
</body>
</html>
</body>
</html>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>l>
</body>
</html>
</html> </div>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>      <button onclick="addClick()"> Add Employee </button>
            <!-- <button onclick="addClick()"> New Job </button> -->
        </td>
        <table>
            <thead>
                <tr>
                    <!-- <th>ID</th> -->
                    <th>Name</th>
					<!--<th>Middle Initial</th> -->
                    <!--<th>Last Name</th> -->
					<!-- <th>Job ID</th> -->
					<!-- <th>Job Level</th> -->
					<!-- <th>Publisher ID</th> -->
					<!-- <th>Hire Date</th> -->
                    <th>Options</th>
                </tr>
            </thead>
            <tbody id="employeeTable">
                <!-- stuff goes here-->
            </tbody>
        </table>
    </div>
    <div id="result">
    </div>
</body>
</html>
</body>
</html>html>